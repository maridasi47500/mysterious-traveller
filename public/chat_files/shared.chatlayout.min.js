"use strict";function purgeAndLogout(){return userDescriptor=JSON.parse(feedBack.cookieService.getSecurityCookie()).userDescriptor,chatterId=userDescriptor.chatterId,genericPATCH("vips/".concat(encodeURI(chatterId),"/purgeandlogout"))}function genericPATCH(e,t){return $.ajax({headers:{"User-Descriptor":httpHeaderFormatter.format(userDescriptor)},accepts:{json:"application/json"},url:baseUrl.concat(e),data:t!=={}?JSON.stringify(t):t,contentType:"application/json",type:"PATCH"})}window.getFirstOrDefaultNavigatorLanguage=function(){var e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e?(e.indexOf("-")!==-1&&(e=e.split("-")[0]),e.indexOf("_")!==-1&&(e=e.split("_")[0])):e="fr",e},window.getFeedbackMessageResource=function(e){return document.getElementById(e).innerHTML},function(e){e.HttpHeaderFormatter=function(){this.format=function(e){return"chatter-id=".concat(encodeURIComponent(e.chatterId),";application-id=",e.applicationId)}}}(window.system||(window.system={})),function(e,t){e.ChatDataService=function(e,o,n,i){var s=this;s.baseUrl=e||"/api/",s.invoke=function(e,i,a){return t.ajax({headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:s.baseUrl.concat(i),data:a!=={}?JSON.stringify(a):a,contentType:"application/json",type:e})},s.head=function(e,i){return t.ajax({headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:s.baseUrl.concat(e),data:i,contentType:"application/json",type:"HEAD"})},s.get=function(e,i){var a=navigator.appVersion.indexOf("Trident")>-1||navigator.appVersion.indexOf("MSIE")>-1||navigator.appVersion.indexOf("Edge")>1;return a?t.ajax({headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:s.baseUrl.concat(e),data:i,contentType:"application/json",type:"GET",cache:!1}):t.ajax({headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:s.baseUrl.concat(e),data:i,contentType:"application/json",type:"GET"})},s.getWithForwarded=function(e,i){var a=navigator.appVersion.indexOf("Trident")>-1||navigator.appVersion.indexOf("MSIE")>-1||navigator.appVersion.indexOf("Edge")>1;return a?t.ajax({headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:s.baseUrl.concat(e),data:i,contentType:"application/json",type:"GET",cache:!1}):t.ajax({beforeSend:function(e){e.setRequestHeader("X-FORWARDED-FOR",i.forwarded.ip),e.setRequestHeader("X-FORWARDED-PORT",i.forwarded.port)},headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:s.baseUrl.concat(e),data:i.data,contentType:"application/json",type:"GET"})},s.post=function(e,i){return t.ajax({headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:s.baseUrl.concat(e),data:i!=={}?JSON.stringify(i):i,contentType:"application/json",type:"POST"})},s["delete"]=function(e){return t.ajax({headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:s.baseUrl.concat(e),type:"DELETE"})},s.patch=function(e,i){return t.ajax({headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:s.baseUrl.concat(e),data:i!=={}?JSON.stringify(i):i,contentType:"application/json",type:"PATCH"})},s.put=function(e,i){return t.ajax({headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:s.baseUrl.concat(e),data:i!=={}?JSON.stringify(i):i,contentType:"application/json",type:"PUT"})}}}(window.system||(window.system={}),jQuery),function(e){e.CookieService=function(e){this.setGuestLoginInfos=function(t){e.remove("guestLoginInfos"),e.set("guestLoginInfos",t)},this.getGuestLoginInfos=function(){return e.getJSON("guestLoginInfos")},this.setVIPLoginInfos=function(t){e.remove("VIPLoginInfos"),e.set("VIPLoginInfos",t)},this.getVIPLoginInfos=function(){return e.getJSON("VIPLoginInfos")},this.getUserDescriptor=function(){var t=JSON.parse(e.get("chat"));return t.userDescriptor},this.getAnalyticsId=function(){return e.get("analytics")},this.getTenantId=function(){return e.get("tenant")},this.setSearchOptions=function(t){e.remove("searchOptions"),e.set("searchOptions",JSON.stringify(t),{expires:new Date(2100,12,31)})},this.getSearchOptions=function(){var t=e.get("searchOptions");return null!=t?JSON.parse(t):t},this.getChatterInfos=function(){return e.getJSON("chatterInfos")},this.setChatterInfos=function(t){return e.remove("chatterInfos"),e.set("chatterInfos",t)},this.getSecurityCookie=function(){return e.get("chat")},this.setActivationIncentiveDisplayedCookie=function(){return e.remove("ActIncentAlreadyDisplayed"),e.set("ActIncentAlreadyDisplayed","True")},this.removeActivationIncentiveAlreadyDisplayedCookie=function(){e.remove("ActIncentAlreadyDisplayed")},this.getActivationIncentiveAlreadyDisplayedCookie=function(){return e.get("ActIncentAlreadyDisplayed")},this.setInfoAlreadyDisplayedCookie=function(){return e.remove("infoAlreadyDisplayed"),e.set("infoAlreadyDisplayed","True")},this.removeInfoAlreadyDisplayedCookie=function(){e.remove("infoAlreadyDisplayed")},this.getInfoAlreadyDisplayedCookie=function(){return e.get("infoAlreadyDisplayed")},this.setActivationNotificationCookie=function(){return e.remove("ActivationNotificationCookie"),e.set("ActivationNotificationCookie","True")},this.removeActivationNotificationCookie=function(){e.remove("ActivationNotificationCookie")},this.getActivationNotificationCookie=function(){return e.get("ActivationNotificationCookie")},this.getAutoNextMessagePreference=function(){return e.get("autoNextMessagePreference")},this.setAutoNextMessagePreference=function(t){return e.remove("autoNextMessagePreference"),e.set("autoNextMessagePreference",t)},this.getGeolocationInformations=function(){var t=e.get("geolocation");return null!=t?JSON.parse(t):t},this.setGeolocationInformations=function(t){return e.remove("geolocation"),e.set("geolocation",t,{expires:new Date(2100,12,31)})},this.getTelecomingSessionId=function(){return e.get("telecomingSessionId")},this.setTelecomingSessionId=function(t){return e.remove("telecomingSessionId"),e.set("telecomingSessionId",t)},this.setGuestLoginOrRegisterInfos=function(t){e.remove("guestLoginOrRegisterInfos"),e.set("guestLoginOrRegisterInfos",JSON.stringify(t))},this.getGuestLoginOrRegisterInfos=function(){var t=e.get("guestLoginOrRegisterInfos");return null!=t?JSON.parse(t):t},this.setFBLoginInfos=function(t){e.remove("FBLogin"),e.set("FBLogin",t)},this.getFBLoginInfos=function(){return e.getJSON("FBLogin")},this.removeFBLoginInfos=function(){e.remove("FBLogin")},this.setGoogleLoginInfos=function(t){e.remove("GoogleLogin"),e.set("GoogleLogin",t)},this.getGoogleLoginInfos=function(){return e.getJSON("GoogleLogin")},this.removeGoogleLoginInfos=function(){e.remove("GoogleLogin")},this.getCMPStatus=function(){return e.get("CMPStatus")},this.setCMPStatus=function(){return e.remove("CMPStatus"),e.set("CMPStatus","1",{expires:1})},this.cleanCMPStatus=function(){return e.set("CMPStatus","0",{expires:1})},this.getDarkModeStatus=function(){return e.get("DarkModeStatus")},this.setDarkModeStatus=function(t){return e.remove("DarkModeStatus"),e.set("DarkModeStatus",t,{expires:new Date(2100,12,31)})},this.removeDarkModeStatus=function(){return e.remove("DarkModeSatus")},this.setCoachForLoveVideoAlreadyDisplayedCookie=function(){return e.remove("coachForLoveVideoAlreadyDisplayed"),e.set("coachForLoveVideoAlreadyDisplayed","True")},this.getCoachForLoveVideoAlreadyDisplayedCookie=function(){return e.get("coachForLoveVideoAlreadyDisplayed")},this.setPhoneNumberShareNotificationAlreadyDisplayed=function(){return e.remove("phoneNumberShareNotificationAlreadyDisplayed"),e.set("phoneNumberShareNotificationAlreadyDisplayed","True")},this.getPhoneNumberShareNotificationAlreadyDisplayed=function(){return e.get("phoneNumberShareNotificationAlreadyDisplayed")}}}(window.system||(window.system={})),function(e,t){e.cookieService=new system.CookieService(t),e.securityCookie=e.cookieService.getSecurityCookie(),e.userDescriptor=void 0!==e.securityCookie?JSON.parse(e.securityCookie).userDescriptor:void 0,e.getTenant=function(){var t=e.userDescriptor.applicationId.split("-");return t[1]},e.isChatterMajor=function(){return e.userDescriptor.applicationId.indexOf("-ado")===-1},e.isIOS=!1,e.isDesktop=!1,e.promoPremiumPackIsActive=function(){var t=new Date,o=new Date("2021-04-21"),n=new Date("2025-12-31");return t>=o&&t<=n&&"tchatche"===e.getTenant()},e.coachForLoveVideoIsActive=function(){return"tchatche"===e.getTenant()},e.mapAuthorizedInEveryContinentTenant=!1,e.isFromAfrica=!1,e.isFromFrance=!1,e.mapActionIsEnabled=function(){return e.isFromFrance||e.mapAuthorizedInEveryContinentTenant},e.isGuestOnly=!1}(window.configuration||(window.configuration={}),Cookies),function(e,t,o,n){e.cookieService=new system.CookieService(o),e.activationNotification=function(){var o=e.cookieService.getSecurityCookie(),n=JSON.parse(o).isVip,i=e.cookieService.getActivationNotificationCookie();if(i){var s="";n&&(s='<span class="icon-logo fs-6x hidden-xs"></span><br /><span class="pseudo-given">',s+=t.getFeedbackMessageResource("activationNotification"),s+="</span>"),t.swal({title:"",html:s,allowOutsideClick:!0,closeOnConfirm:!0,confirmButtonClass:"btn-swal bg-guest",buttonsStyling:!1,closeOnCancel:!0}).then(function(){e.cookieService.removeActivationNotificationCookie()},function(t){e.cookieService.removeActivationNotificationCookie()})}},e.welcomeUser=function(){var t,o=e.cookieService.getSecurityCookie(),n=JSON.parse(o).isVip,i=JSON.parse(o).userDescriptor,s=e.cookieService.getInfoAlreadyDisplayedCookie();!JSON.parse(o).isVip&&i.pseudoChanged;if(t=n?void 0!==e.cookieService.getVIPLoginInfos()?e.cookieService.getVIPLoginInfos().name:"":void 0!==e.cookieService.getGuestLoginInfos()?e.cookieService.getGuestLoginInfos().name:"",!s){return}},e.clubWelcomeUser=function(o){var n=e.cookieService.getInfoAlreadyDisplayedCookie();if(void 0===n||!n){var i='<span class="icon-logo fs-6x hidden-xs"></span>Bienvenue au CLUB&nbsp;!',s="Tu as un crédit de<br/>"+o+" messages<br/>pour discuter avec qui tu veux !<b>OPEN BAR&nbsp;!</b>";t.swal({title:i,html:s,allowOutsideClick:!0,closeOnConfirm:!0,confirmButtonClass:"btn-swal bg-guest",buttonsStyling:!1,closeOnCancel:!0,customClass:"club_welcome"}).then(function(){e.cookieService.setInfoAlreadyDisplayedCookie()},function(t){e.cookieService.setInfoAlreadyDisplayedCookie()})}},e.informAboutGeolocation=function(o){var n=e.cookieService.getInfoAlreadyDisplayedCookie();n||t.swal({title:"",html:'<span id="geolocation-warning"><span class="text-center">'+t.getFeedbackMessageResource("tip")+' : </span><br/><span class="text-left">'+t.getFeedbackMessageResource("geolocationTip")+"</span></span>",type:"info",showCancelButton:!1,allowOutsideClick:!1,closeOnCancel:!1,confirmButtonClass:"btn-swal bg-guest",buttonsStyling:!1}).then(function(){e.executeCallbackIfExists(o)},function(e){})},e.encourageToActivateGeolocation=function(o){t.swal({title:"",html:"<span>"+t.getFeedbackMessageResource("geolocationWarning")+"</span>",type:"error",showCancelButton:!0,cancelButtonText:t.getFeedbackMessageResource("cancel"),allowOutsideClick:!1,closeOnCancel:!1,confirmButtonClass:"btn-swal bg-guest",cancelButtonClass:"noThanks",buttonsStyling:!1}).then(function(){e.executeCallbackIfExists(o)},function(e){})},e.showCustomSwal=function(o,n,i,s,a,r,c,u){t.swal({title:o,html:n,type:i,allowOutsideClick:!0,closeOnCancel:!0,confirmButtonClass:a,confirmButtonText:s,buttonsStyling:!1,customClass:r}).then(function(){e.executeCallbackIfExists(c)}).then(function(){e.executeCallbackIfExists(u)})},e.warnAboutAccountDeletion=function(){var e='<div><span class="display-b">'+t.getFeedbackMessageResource("accountDeletionConsequences")+'</span><br/><span class="display-b bold">'+t.getFeedbackMessageResource("accountDeletionConfirmation")+"</span><br/></div>";t.swal({title:"",html:e,type:"error",customClass:"swal-account-deletion",showCancelButton:!0,confirmButtonText:t.getFeedbackMessageResource("no"),cancelButtonText:t.getFeedbackMessageResource("yes"),allowOutsideClick:!1,closeOnCancel:!1,allowEscapeKey:!1,confirmButtonClass:"btn-swal bg-guest",cancelButtonClass:"noThanks",buttonsStyling:!1}).then(function(){},function(){t.spinner.show(),n.ajax({type:"POST",url:"/Chat/DeleteAccount"})})},e.handleError=function(o,i,s){if(405===o.status){n("#IsGops").val("true");var a=t.feedBack.reverseHtmlEntities(o.statusText);return e.GOPS(a)}if(404===o.status&&"Request sender not found"===o.statusText)return void e.triggerLogoutClick();if(null!=i&&i.text.indexOf("Suspended profile")!==-1)return i.text=t.getFeedbackMessageResource("profileDeactivated"),void e.showSweetAlert(i,s);if(500===o.status||502===o.status||503===o.status)return void 0!==i&&null!==i||(i={text:"",type:"error"}),i.text=t.getFeedbackMessageResource("globalError"),e.showSweetAlert(i,function(){});if(null!==i&&void 0!==i&&""!==i.text&&" "!==i.text)if(i.text.indexOf("Too many guests connected")!==-1){i.text=t.getFeedbackMessageResource("limitedAccessRefused");var r=new RegExp(/(\.[^\.]{0,2})(\.[^\.]{0,2})(\.*$)|(\.[^\.]*)(\.*$)/),c=location.hostname.replace(r,"").split(".").pop();"amitie"===c?e.showSweetAlert(i,function(){}):e.showSweetAlert(i,function(){t.location.pathname="/account/register"})}else e.showSweetAlert(i,s)},e.GOPS=function(o){t.swal({title:"",html:o,type:"error",timer:8e3,allowOutsideClick:!1,allowEscapeKey:!1,closeOnConfirm:!1,closeOnCancel:!1,confirmButtonClass:"btn-swal bg-guest",buttonsStyling:!1}).then(function(){e.triggerLogoutClick()})},e.showSweetAlert=function(o,n){var i="";if("object"==typeof o.text)for(var s=0;s<o.text.length;s++)i+=o.text[s],s<o.text.length-1&&(i+="<br/>");else i=o.text;t.swal({title:"",html:i,type:o.type,showCancelButton:!1,allowOutsideClick:!1,closeOnCancel:!1,confirmButtonClass:"btn-swal bg-guest",buttonsStyling:!1}).then(function(){e.executeCallbackIfExists(n)})},e.confirmReportAbuse=function(o,n){t.swal({title:"",html:o.text,type:o.type,showCancelButton:!0,allowOutsideClick:!1,closeOnCancel:!0,confirmButtonText:t.getFeedbackMessageResource("yes"),cancelButtonText:t.getFeedbackMessageResource("no"),confirmButtonClass:"btn-swal bg-guest",cancelButtonClass:"btn-swal bg-guest",buttonsStyling:!1}).then(function(){e.executeCallbackIfExists(n)})},e.blacklistUser=function(e){t.swal({title:"",html:e.text,type:e.type,showCancelButton:!1,allowOutsideClick:!1,closeOnCancel:!0,confirmButtonClass:"btn-swal bg-guest",buttonsStyling:!1})},e.sharePhoneNumberNotification=function(){t.swal({title:"",html:t.getFeedbackMessageResource("phoneNumberShareNotification1"),confirmButtonText:t.getFeedbackMessageResource("phoneNumberShareNotification2"),type:"warning",showCancelButton:!1,allowOutsideClick:!1,closeOnCancel:!0,confirmButtonClass:"btn-swal bg-guest",buttonsStyling:!1})},e.triggerLogoutClick=function(){n("#logout").trigger("click")},e.executeCallbackIfExists=function(e){void 0!==e&&null!==e&&e()},e.encourageToRegister=function(o){void 0!==o&&null!==o||(o={type:"error",text:t.getFeedbackMessageResource("onlyForVIP")}),t.swal({title:"",html:o.text,type:o.type,showCancelButton:!0,confirmButtonText:t.getFeedbackMessageResource("registerLink"),cancelButtonText:t.getFeedbackMessageResource("cancel"),allowOutsideClick:!1,closeOnCancel:!1,confirmButtonClass:"btn-swal bg-guest",cancelButtonClass:"noThanks",buttonsStyling:!1}).then(function(){n("#WantsToRegister").val("true"),t.location.pathname.toLowerCase().indexOf("chat")!=-1?n.when(e.triggerLogoutClick()).then("window.location.pathname = '/account/register'"):t.location.pathname="/account/register"},function(){})},e.showAlbumsMoreInfos=function(e,o){t.swal({title:t.getFeedbackMessageResource(e),html:'<p class="swal-album-infos">'+t.getFeedbackMessageResource(o)+"</p>",customClass:"swal-albums-infos",showCancelButton:!1,confirmButtonClass:"btn-swal bg-guest",buttonsStyling:!1,allowOutsideClick:!0,closeOnConfirm:!0,allowEscapeKey:!0})},e.reverseHtmlEntities=function(e){return e=e.replace(/&#59;/g,";"),e=e.replace(/&amp;/g,"&"),e=e.replace(/&egrave;/g,"è"),e=e.replace(/&eacute;/g,"é"),e=e.replace(/&ecirc;/g,"ê"),e=e.replace(/&agrave;/g,"à"),e=e.replace(/&aacute;/g,"á"),e=e.replace(/&auml;/g,"â"),e=e.replace(/&icirc;/g,"î"),e=e.replace(/n&atilde;/g,"ñ"),e=e.replace(/&ugrave;/g,"ù"),e=e.replace(/&ucirc;/g,"û"),e=e.replace(/&#39;/g,"'")},e.showPremiumPackPromo=function(o,n,i,s){var a="https://tchatche.tlmq.fr/",r=e.cookieService.getSecurityCookie();JSON.parse(r).userDescriptor.chatterId;"boolean"!=typeof o&&(o=!1),"boolean"!=typeof n&&(n=!1);var c=s?Math.floor(4*Math.random()+1):Math.floor(39*Math.random()+1),u=s?"M":"D";t.swal({title:"",html:'<div class="image-wrap"><img src="/Content/Tchatche/Images/CoachForLove/'+u+"_CFL"+c+'.png" alt="Coach For Love" /></div>',type:"",showConfirmButton:!0,showCancelButton:!1,allowOutsideClick:!0,animation:!1,closeOnCancel:!1,buttonsStyling:!1,showCloseButton:!0,allowEscapeKey:!0,customClass:"swal-custom-image",buttonsStyling:!1}).then(function(){if(o&&e.cookieService.setPromoAlreadyDisplayedCookie(),s){switch(c){case 1:case 4:case 7:case 10:case 13:case 16:case 19:case 22:case 25:case 28:case 31:case 34:case 37:t.open("sms:71516?&body=INLOVE");break;case 2:case 5:case 8:case 11:case 14:case 17:case 20:case 23:case 26:case 29:case 32:case 35:case 38:t.open("tel://0893015511");break;default:t.open(a)}t.analytics.trackEvent("CoachForLovePromo","Mobile",c)}else t.open(a),t.analytics.trackEvent("CoachForLovePromo","Desktop",c)},function(t){o&&e.cookieService.setPromoAlreadyDisplayedCookie(),e.executeCallbackIfExists(i)})},e.showMailNotValidFeedBack=function(){t.analytics.trackPageView("/MailNotValid","Account/MailNotValid"),t.swal({title:"",html:t.getFeedbackMessageResource("mailNotValid"),type:"",showConfirmButton:!0,showCancelButton:!1,allowOutsideClick:!1,closeOnCancel:!1,buttonsStyling:!1,showCloseButton:!0,allowEscapeKey:!0,closeOnConfirm:!0,confirmButtonClass:"btn-swal bg-guest"}).then(function(){purgeAndLogout()},function(e){purgeAndLogout()})},e.FeatureReservedForVIP=function(){var e=new t.system.Message(t.getFeedbackMessageResource("featureReservedForVIP"),t.system.MessageType.Error);t.feedBack.encourageToRegister(e)}}(window.feedBack||(window.feedBack={}),window,Cookies,jQuery);var userDescriptor,httpHeaderFormatter=new system.HttpHeaderFormatter,baseUrl="/api/";!function(e,t,o){e.timer=void 0,e.show=function(n,i){o("body").hasClass("loading")||(e.timer&&clearTimeout(e.timer),e.timer=t.setTimeout(function(){n=void 0===n?"default":n,n&&o("#spinner .spinner .custom-message#spinner-"+n).removeClass("hidden"),o("body").addClass("loading")},1e3),i||t.setTimeout(e.hide,5e3))},e.hide=function(){clearTimeout(e.timer),o("body").hasClass("loading")&&(o("body").removeClass("loading"),o("#spinner .spinner .custom-message").addClass("hidden"))},o(document).ajaxError(function(t,o,n,i){return e.hide(),!1})}(window.spinner||(window.spinner={}),window,jQuery),function(e){e.MessageType={Info:"info",Success:"success",Warning:"warning",Error:"error"}}(window.system||(window.system={})),function(e){e.Message=function(e,t){this.text=e,this.type=t}}(window.system||(window.system={})),function(e,t){t.components.register("messaging",{viewModel:{createViewModel:function(t){var o=new e.MessagingViewModel(t.event);return o}},template:{element:"messaging-template"},synchronous:!0})}(window.system||(window.system={}),ko),function(e,t,o){e.MessagingViewModel=function(e){function o(){var e,t=this;t.processing=!1,t.process=function(){n.handler.processing||t.handleNextMessage()},t.onTimeout=function(){n.queue.splice(0,1),t.handleNextMessage()},t.handleNextMessage=function(){n.queue.length>0?(n.handler.processing=!0,n.message(n.queue[0]),e=window.setTimeout(t.onTimeout,4e3)):(n.handler.processing=!1,n.clearMessage())},t.dispose=function(){window.clearTimeout(e)}}var n=this;n.event=e,n.message=t.observable(),n.queue=[],n.handler=new o,n.onSuccessFeedback=function(e,t){n.queue.push(t),n.handler.process()};var i=n.event.subscribe("SuccessFeedback",n.onSuccessFeedback);n.clearMessage=function(){n.message(void 0)},n.dispose=function(){n.event.unsubscribe(i),n.handler.dispose()}}}(window.system||(window.system={}),ko,system.MessageType),function(e,t,o){e.MessageBinder=function(){function e(e,t){o(e).addClass(t.type),o(e).addClass("ns-show")}function n(e){o(e).addClass("ns-hide")}this.init=function(e){n(e)},this.update=function(o,i){var s=t.unwrap(i());void 0!==s&&s.text?e(o,s):n(o)}},t.bindingHandlers.message=new e.MessageBinder}(window.system||(window.system=system),ko,jQuery),function(e,t){e.GeolocationDataService=function(t,o,n){var i=this;i.base=e.ChatDataService,i.base(t,o,n),i.sendCoordinates=function(e,t){return i.post("chatters/".concat(encodeURI(o.chatterId),"/localization"),{Latitude:e,Longitude:t})}}}(window.system||(window.system={}),jQuery),function(e,t,o){function n(){var n=this,i=new e.HttpHeaderFormatter;n.cookieService=new e.CookieService(o),n.chatterInfos=n.cookieService.getChatterInfos(),n.chatterIsLoggedIn=void 0!==n.chatterInfos;var s=n.chatterIsLoggedIn?n.cookieService.getUserDescriptor():{chatterId:void 0,applicationId:void 0};n.dataService=new e.GeolocationDataService((void 0),s,i),n.geolocationInformations=n.cookieService.getGeolocationInformations(),n.timeout=5e3,n.geolocationUpdated=!1,n.getPosition=function(){navigator.geolocation&&!n.geolocationUpdated&&navigator.geolocation.getCurrentPosition(n.sendCoordinates,n.throwError)},n.checkGeolocation=function(){return n.geolocationInformations.isGeolocated},n.chatterIsGeolocated=function(){n.geolocationInformations.isGeolocated=!0,n.cookieService.setGeolocationInformations({isGeolocated:n.geolocationInformations.isGeolocated,subdivision:n.geolocationInformations.subdivision}),t.publish("GeolocationStatement",n.geolocationInformations.isGeolocated)},n.chatterIsNotGeolocated=function(){n.geolocationInformations.isGeolocated=!1,n.cookieService.setGeolocationInformations({isGeolocated:n.geolocationInformations.isGeolocated,subdivision:n.geolocationInformations.subdivision}),t.publish("GeolocationStatement",n.geolocationInformations.isGeolocated)},n.sendCoordinates=function(e){"4.9E-325"===e.coords.latitude||"4.9E-325"===e.coords.longitude||"4.9e-325"===e.coords.latitude||"4.9e-325"===e.coords.longitude||"4.9E-324"===e.coords.latitude||"4.9E-324"===e.coords.longitude||"4.9e-324"===e.coords.latitude||"4.9e-324"===e.coords.longitude||"5E-324"===e.coords.latitude||"5E-324"===e.coords.longitude||"5e-324"===e.coords.latitude||"5e-324"===e.coords.longitude||"0"===e.coords.latitude.toString||"0"===e.coords.longitude.toString?(e.coords.latitude=-1,e.coords.longitude=-1,n.throwError()):n.chatterIsLoggedIn&&!n.geolocationUpdated?n.dataService.sendCoordinates(e.coords.latitude,e.coords.longitude).done(function(e){n.coordinatesSuccess()}).fail(function(e){window.feedBack.handleError(e,null)}):(n.coordinatesSuccess(),t.publish("ChatterCoordinates",{latitude:e.coords.latitude,longitude:e.coords.longitude}))},n.coordinatesSuccess=function(){n.geolocationUpdated=!0,n.chatterIsGeolocated()},n.throwError=function(e){n.geolocationUpdated=!0,n.chatterIsNotGeolocated()},n.onSubdivisionUpdate=function(e,t){"undefined"!==n.geolocationInformations.subdivision&&void 0!==n.geolocationInformations.subdivision||(n.geolocationInformations.subdivision=t),t!==n.geolocationInformations.subdivision&&(t=n.geolocationInformations.subdivision),n.cookieService.setGeolocationInformations({isGeolocated:n.geolocationInformations.isGeolocated,subdivision:t})},t.subscribe("SubdivisionUpdate",n.onSubdivisionUpdate),n.updateGeolocationStatement=function(){n.geolocationUpdated||(n.chatterIsNotGeolocated(),n.geolocationUpdated=!0)},n.init=function(){void 0===n.geolocationInformations&&(n.geolocationInformations=n.cookieService.getGeolocationInformations()),window.setTimeout(n.getPosition(),n.geolocationInformations.isGeolocated?0:500),window.setTimeout(n.updateGeolocationStatement,n.timeout)}}window.geolocation=new n}(window.system||(window.system={}),PubSub,Cookies),function(e,t,o){var n=new e.CookieService(o);$(function(){var e=this;e.geolocation=n.getGeolocationInformations(),void 0!==e.geolocation&&null!==e.geolocation||(e.geolocation={isGeolocated:!1,subdivision:"undefined"},n.setGeolocationInformations(e.geolocation)),e.onPromptGeolocation=function(e,t){window.geolocation.init()},t.subscribe("PromptGeolocation",e.onPromptGeolocation)})}(window.system||(window.system={}),PubSub,Cookies),function(e,t){$(function(){var o=this,n=new e.CookieService(t);o.securityCookie=n.getSecurityCookie(),o.checkIfSecurityCookieExists=function(){if(void 0===o.securityCookie||null===o.securityCookie)return window.location.href="/"},o.checkIfSecurityCookieExists()})}(window.system||(window.system={}),Cookies),function(e,t,o){e.trackPageView=function(e,t){o("event","page_view",{page_path:e,page_title:t})},e.trackEvent=function(e,t,n){o("event",t,{event_category:e,event_label:n})}}(window.analytics||(window.analytics={}),window,gtag),function(e){e.BannerService=function(e){this.getBannerUrl=function(t,o){var n=void 0!==o&&null!==o?o.age:18,i=void 0!==o&&null!==o?o.gender:0;return"/123m?Page="+e+"&Width="+t.width+"&Height="+t.height+"&Age="+n+"&Gender="+parseInt(i+1,10)}}}(window.system||(window.system={})),function(e,t){function o(t,o){var n={width:0,height:0};e.each(o.formats,function(e,o){return n=o,1==o.height&&1==o.width?t.attr("width","200").attr("height","100"):t.attr("width",o.width).attr("height",o.height),!t.visible()}),o.format(n)}t.bindingHandlers.banner={init:function(n,i){var s=t.unwrap(i());n=e(n),e(window).on("beforeunload",function(){n.attr("data",""),n.attr("src","")}),e(window).resize(function(){o(n,s)}),o(n,s)},update:function(){}}}(jQuery,ko),function(e,t,o){e.BannerViewModel=function(e,n,i,s,a){var r=this,c=o();this.formats=e,this.format=t.observable().extend({rateLimit:{timeout:1e3,method:"notifyWhenChangesStop"}}),this.format.subscribe(function(e){e&&(this.bannerUrl(n.getBannerUrl(e,r.getChatterInfos())),c=o())},this),this.bannerUrl=t.observable().extend({notify:"always"}),this.refresh=function(){var e=o(),t=e.diff(c);(void 0!==a?a:2e3)<t&&(r.bannerUrl(n.getBannerUrl(r.format(),r.getChatterInfos())),c=e)},this.getChatterInfos=function(){return s.getChatterInfos()},i.subscribe("CommandSent",r.refresh)}}(window.system||(window.system={}),ko,moment),function(e,t,o,n){t.components.register("banner",{viewModel:{createViewModel:function(t){var i=new e.BannerService(t.page),s=new e.CookieService(n),a=new e.BannerViewModel(t.formats,i,o,s,t.time);return a}},template:{element:"banner-template"},synchronous:!0})}(window.system||(window.system={}),ko,PubSub,Cookies),function(e,t){e.MessageCounterDataService=function(o,n,i){var s=this;s.base=e.ChatDataService,s.base(o,n,i),s.countIncomingNewMessages=function(e){var o=t.Deferred();return window.location.href.indexOf("club")==-1?(s.head("chatters/".concat(encodeURI(e),"/interlocutors?incomingnewmessages=true"),{}).done(function(e,t,n){o.resolve(parseInt(n.getResponseHeader("Count"),10))}).fail(function(e){console.log("countIncomingNewMessages issue; data was: "+e),404==e.status&&s.triggerLogoutClick(),o.reject(e)}),o.promise()):(s.head("chatters/".concat(encodeURI(e),"/interlocutors?incomingnewmessages=true&interlocutorOnlyOnline=true"),{}).done(function(e,t,n){o.resolve(parseInt(n.getResponseHeader("Count"),10))}).fail(function(e){console.log("countIncomingNewMessages issue; data was: "+e),404==e.status&&s.triggerLogoutClick(),o.reject(e)}),o.promise())},s.triggerLogoutClick=function(){t("#logout").trigger("click")}},e.MessageCounterDataService.prototype=new e.ChatDataService}(window.system||(window.system={}),jQuery),function(e,t){t.components.register("messagecounter",{viewModel:{createViewModel:function(t){var o=new e.HttpHeaderFormatter,n=new e.MessageCounterDataService((void 0),t.descriptor,o),i=new e.MessageCounterViewModel(t.event,t.descriptor.chatterId,n);return i}},template:{element:"message-counter-template"},synchronous:!0})}(window.system||(window.system={}),ko),function(e,t){e.MessageCounterViewModel=function(e,o,n){function i(e){var t,o=this;o.start=function(){o.updateMessageCountor()},o.stop=function(){window.clearTimeout(t)},o.updateMessageCountor=function(){n.countIncomingNewMessages(e).done(function(e){if(s.messageCount(e),0!=e)if(-1==document.title.indexOf("("))document.title="("+e+") "+document.title;else{var n=document.title=document.title.substr(document.title.indexOf(")")+2);document.title="("+e+") "+n}else 0==document.title.indexOf("(")&&(document.title=document.title.substr(document.title.indexOf(")")+2));t=window.setTimeout(o.updateMessageCountor,7e3)}).fail(function(e){window.feedBack.handleError(e,null)})}}var s=this;s.messageCounterUpdator=new i(o),s.messageCount=t.observable(0),s.messageCounterUpdator.start(),s.hasMessages=t.pureComputed(function(){return s.messageCount()>0}),s.messageCounterClicked=function(){return e.publish("MessageCounterClicked",o),!0},s.dispose=function(){s.messageCounterUpdator.stop()},s.showNewInterlocutors=function(){e.publish("CommandSent",{}),e.publish("NewMessagesClicked",{})}}}(window.system||(window.system={}),ko),function(e,t,o){e.Blinking=function(){function e(e){o(e).animate({opacity:.3},1e3).animate({opacity:1},1e3,function(){i(e)})}function n(e){o(e).css("opacity",1).stop()}function i(t){parseInt(s.messageCount,10)>0?e(t):n(t)}var s=this;s.messageCount,this.init=function(e,o){s.messageCount=t.unwrap(o()),i(e)},this.update=function(e,o){s.messageCount=t.unwrap(o()),i(e)}},t.bindingHandlers.blinking=new e.Blinking}(window.system||(window.system=system),ko,jQuery),function(e,t,o,n){e.NativeBannerBinder=function(){var t=this;t.cookieService=new e.CookieService(n),t.chatterInfos=t.cookieService.getChatterInfos(),this.init=function(e){var n=!1;0===t.chatterInfos.gender&&t.chatterInfos.isMajor&&o(e).parent().children().length>0?window.setTimeout(function(){o(e).find("#native-ad").children()[0];n=!0,n?o(e).removeClass("notshown").addClass("shown"):o(e).remove()},2e3):o(e).remove()}},t.bindingHandlers.nativeBanner=new e.NativeBannerBinder}(window.system||(window.system=system),ko,jQuery,Cookies),function(e,t){t.components.register("chatterinfo",{viewModel:{createViewModel:function(t){var o=new e.ChatterInfoViewModel(t.event,t.chatter,t.templateName,t.pictureTemplate);return o}},template:{element:"chatter-info-template"},synchronous:!0})}(window.system||(window.system={}),ko),function(e,t){e.ChatterInfoViewModel=function(o,n,i,s){var a=this;a.mapper=new e.ChatterInfoChatterMapper,a.chatter=a.mapper.mapChatterToViewModel(n),a.templateName=i,a.pictureTemplate=s,a.showProfilePicture=function(){o.publish("ProfilePictureClicked",a.chatter.profilePictureUrl)},a.getBackgroundStyledPictureUrl=t.computed(function(){return"url("+a.chatter.profilePictureUrl+")"})}}(window.system||(window.system={}),ko),function(e,t){e.ChattersListDataService=function(o,n,i){var s=this;s.base=e.ChatDataService,s.base(o,n,i),s.getChattersByCountry=function(e,o,n,i,a,r,c,u,l,d,f,g,h,p,m,w,v){var b=void 0!==w?w:"60",C=void 0!==v?v:"60",y="";null!=g&&(y=0!==g.length?"&".concat(t.param({subdivision:g},!0)):"");var k=new RegExp(/(\.[^\.]{0,2})(\.[^\.]{0,2})(\.*$)|(\.[^\.]*)(\.*$)/),S=location.hostname.replace(k,"").split(".").pop();return"tchatche"==S.toLocaleLowerCase()||"tchatcheclub"==S.toLocaleLowerCase()||"club"==window.location.origin.split(".").pop()?s.get("chatters?offset=".concat(e,"&limit=",o,"&agemin=",n,"&agemax=",i,"&gendersearched=",a,"&datingsearched=",r,"&hasprofilepicture=",c,"&haspublicmedia=",u,"&keywords=",l,"&chattername=",encodeURI(d),"&pictureheight=",C,"&picturewidth=",b,"&country=",f,y,"&online=",h,"&direction=",p,"&lastvisit=",m),{}):s.get("chatters?offset=".concat(e,"&limit=",o,"&agemin=",n,"&agemax=",i,"&gendersearched=",a,"&datingsearched=",r,"&hasprofilepicture=",c,"&haspublicmedia=",u,"&keywords=",l,"&chattername=",encodeURI(d),"&pictureheight=",C,"&picturewidth=",b,"&country=",f,y,"&online=true"),{});
},s.getChattersByDistance=function(e,t,o,n,i,a,r,c,u,l,d,f){return s.get("chatters?offset=".concat(e,"&limit=",t,"&agemin=",o,"&agemax=",n,"&gendersearched=",i,"&datingsearched=",a,"&hasprofilepicture=",r,"&haspublicmedia=",c,"&keywords=",u,"&chattername=",encodeURI(l),"&pictureheight=","60","&picturewidth=","60","&distancemin=",d,"&distancemax=",f),{})}},e.ChattersListDataService.prototype=new e.ChatDataService}(window.system||(window.system={}),jQuery),function(e,t,o){t.components.register("chatterslist",{viewModel:{createViewModel:function(t){var n=new e.HttpHeaderFormatter,i=new e.ChattersListDataService((void 0),t.descriptor,n),s=new e.CookieService(o),a=new e.ChattersListViewModel(t.event,t.descriptor.chatterId,s,i);return a}},template:{element:"chatters-list-template"},synchronous:!0})}(window.system||(window.system={}),ko,Cookies),function(e,t){e.ChattersListViewModel=function(o,n,i,s){var a=this;a.mapper=new e.BaseChatterMapper(n),a.searchOptions=void 0,a.chatters=t.observableArray(),a.nbChatters=t.observable(),a.page=t.observable(1),a.offset=30,a.currentOffset=t.observable(0),a.limit=30,a.defaultTitleIsVisible=t.observable(!0),a.researchTitleIsVisible=t.observable(!1),a.chatterInfos=void 0,a.updateChattersInProgress=!1,a.direction="n",a.lastvisit="null",a.paginationIsVisible=t.pureComputed(function(){return a.nbChatters()>0}),a.nbChattersIsVisible=t.pureComputed(function(){return"NaN"!==a.numberFirstPart()&&"NaN"!==a.numberSecondPart()}),a.nbPages=t.pureComputed(function(){return Math.ceil(a.nbChatters()/a.offset)},this),a.numberFirstPart=t.pureComputed(function(){var e=Math.floor(a.nbChatters()/1e3);return 0===e?"":e.toString()}),a.numberSecondPart=t.pureComputed(function(){if(a.nbChatters()>=100){var e=a.nbChatters()%1e3;return e<10?"00".concat(e.toString()):e<100?"0".concat(e.toString()):e.toString()}return a.nbChatters()}),a.previous=function(){a.updateChattersInProgress||(a.direction="p",a.chatters()[0].connected?a.lastvisit=null:a.lastvisit=a.chatters()[0].lastVisit,a.page()>1&&(a.page(a.page()-1),a.currentOffset(a.currentOffset()-a.offset),a.updateChatters(),o.publish("CommandSent",{})))},a.next=function(){a.updateChattersInProgress||(a.direction="n",a.lastvisit=a.chatters()[a.chatters().length-1].lastVisit,a.page()<a.nbPages()&&(a.page(a.page()+1),a.currentOffset(a.currentOffset()+a.offset),a.updateChatters(),o.publish("CommandSent",{})))},a.goFirstPage=function(){a.direction="f",a.lastvisit=null,a.page(1),a.currentOffset(0),a.updateChatters(),o.publish("CommandSent",{})},a.refresh=function(){a.updateChatters(),o.publish("CommandSent",{})},a.getDistanceInMeters=function(e){return 1e3*e},a.updateChatters=function(){a.updateChattersInProgress=!0,window.spinner.show(),1==i.getCMPStatus()&&(a.limit=4),a.searchOptions.byDistance()?s.getChattersByDistance(a.currentOffset(),a.limit,a.searchOptions.ageMin(),a.searchOptions.ageMax(),a.searchOptions.genderSearched(),a.searchOptions.datingSearched(),a.searchOptions.hasProfilePicture(),a.searchOptions.hasPublicMedia(),a.searchOptions.keywords(),a.searchOptions.name(),a.getDistanceInMeters(a.searchOptions.distanceMin()),a.getDistanceInMeters(a.searchOptions.distanceMax())).done(a.updateDone).fail(function(e){a.updateChattersInProgress=!1,window.spinner.hide(),window.feedBack.handleError(e,null)}):s.getChattersByCountry(a.currentOffset(),a.limit,a.searchOptions.ageMin(),a.searchOptions.ageMax(),a.searchOptions.genderSearched(),a.searchOptions.datingSearched(),a.searchOptions.hasProfilePicture(),a.searchOptions.hasPublicMedia(),a.searchOptions.keywords(),a.searchOptions.name(),a.searchOptions.country(),a.searchOptions.subdivisions(),a.searchOptions.online(),a.direction,a.lastvisit).done(a.updateDone).fail(function(e){a.updateChattersInProgress=!1,window.spinner.hide(),window.feedBack.handleError(e,null)})},a.updateDone=function(t,n,i){if(a.updateChattersInProgress=!1,window.spinner.hide(),0===t.length){var s=new window.system.Message(window.getFeedbackMessageResource("noResult"),e.MessageType.Error);window.feedBack.showSweetAlert(s,a.resetChattersList)}a.mapper.mapChattersToViewModel(t),a.chatters(t),a.nbChatters(parseInt(i.getResponseHeader("Count"),10)),o.publish("ChattersListUpdated",a.chatters())},a.showProfile=function(e){o.publish("ProfileClicked",e.id),o.publish("CommandSent",{})},a.getProfileUrl=function(e){return"/Chat#/profile/".concat(encodeURI(e))},a.removeFBLoginInfos=function(){return i.removeFBLoginInfos()},a.removeGoogleLoginInfos=function(){return i.removeGoogleLoginInfos()},a.initializeChattersList=function(){a.lastvisit=null,a.removeFBLoginInfos(),a.removeGoogleLoginInfos(),a.chatterInfos=a.getChatterInfos();var e=a.getStoredOptions();void 0!==e&&null!==e&&e.searchIsActive?a.initializeSearchChattersList(e,!1):a.initializeDefaultChattersList()},a.setSearchOptions=function(e){a.searchOptions={genderSearched:t.observable(e.genderSearched),ageMin:t.observable(e.ageMin),ageMax:t.observable(e.ageMax),datingSearched:t.observable(e.datingSearched),hasProfilePicture:t.observable(e.hasProfilePicture),hasPublicMedia:t.observable(e.hasPublicMedia),keywords:t.observable(e.keywords),name:t.observable(decodeURI(e.name)),country:t.observable(e.country),subdivisions:t.observableArray(e.subdivisions),distanceMin:t.observable(e.distanceMin),distanceMax:t.observable(e.distanceMax),byDistance:t.observable(e.byDistance),online:t.observable(e.online)}},a.setDefaultOptions=function(){var e=void 0!==a.chatterInfos&&a.chatterInfos.isMajor?18:13,o=void 0!==a.chatterInfos&&a.chatterInfos.isMajor?99:17;a.searchOptions={genderSearched:t.observable(3),ageMin:t.observable(e),ageMax:t.observable(o),datingSearched:t.observable(0),hasProfilePicture:t.observable(!1),hasPublicMedia:t.observable(!1),keywords:t.observable(""),name:t.observable(""),country:t.observable(""),subdivisions:t.observableArray([]),distanceMin:t.observable(0),distanceMax:t.observable(500),byDistance:t.observable(!1),online:t.observable(!0)}},a.initializeDefaultChattersList=function(){a.showDefaultTitle(),a.setDefaultOptions(),a.page(1),a.currentOffset(0),a.updateChatters()},a.initializeSearchChattersList=function(e,t){a.showResearchTitle(),t?a.searchOptions=e:a.setSearchOptions(e),a.page(1),a.currentOffset(0),a.updateChatters()},a.onResearchPerformed=function(e,t){a.direction="f",a.lastvisit=null,window.analytics.trackPageView("/chats/#panel-users","Chat/ChattersList"),a.initializeSearchChattersList(t,!0)};var r=o.subscribe("ResearchPerformed",a.onResearchPerformed);a.onMapRouted=function(e,t){o.publishSync("ChattersListUpdated",a.chatters())};var c=o.subscribe("MapRouted",a.onMapRouted);a.onRefreshAction=function(e,t){a.refresh()};var u=o.subscribe("RefreshChattersList",a.onRefreshAction);a.showDefaultTitle=function(){a.defaultTitleIsVisible(!0),a.researchTitleIsVisible(!1)},a.showResearchTitle=function(){a.defaultTitleIsVisible(!1),a.researchTitleIsVisible(!0)},a.canShowBanner=function(e){return 1===e&&a.chatterInfos.isMajor&&0===a.chatterInfos.gender&&1===a.page()},a.canShowNativeWidget=function(e){return 3===e},a.canShowCMPCheckMessage=function(e){return 3===e&&1==i.getCMPStatus()},a.showCMP=function(e){__tcfapi("edit",2,function(e,t){t&&(i.cleanCMPStatus(),location.reload(!0))})},a.showCMPCheckMessage=function(){var t=new window.system.Message(window.getFeedbackMessageResource("cmpMessage3"),e.MessageType.Info);window.feedBack.showSweetAlert(t,a.showCMP)},a.resetChattersList=function(){var e=a.searchOptions;a.storeCanceledSearchOptions(e),a.initializeDefaultChattersList()},a.getChatterInfos=function(){return i.getChatterInfos()},a.getStoredOptions=function(){return i.getSearchOptions()},a.storeCanceledSearchOptions=function(e){i.setSearchOptions({genderSearched:e.genderSearched(),ageMin:e.ageMin(),ageMax:e.ageMax(),datingSearched:e.datingSearched(),hasProfilePicture:e.hasProfilePicture(),hasPublicMedia:e.hasPublicMedia(),keywords:e.keywords(),name:e.name(),country:e.country(),subdivisions:e.subdivisions(),distanceMin:e.distanceMin(),distanceMax:e.distanceMax(),byDistance:e.byDistance(),searchIsActive:!1,online:e.online()})},a.dispose=function(){o.unsubscribe(r),o.unsubscribe(c),o.unsubscribe(u)},a.initializeChattersList(),window.analytics.trackPageView("/chats/#panel-users","Chat/ChattersList")}}(window.system||(window.system={}),ko),function(e,t,o){e.ScrollToTop=function(){function e(e,t){t?o(e).animate({scrollTop:0},t):o(e).animate({scrollTop:0},100)}this.init=function(t){e(t)},this.update=function(n,i){var s=t.unwrap(i());s.action?o(n).bind(s.action,function(){e(s.element,s.duration)}):e(n)}},t.bindingHandlers.scrollToTop=new e.ScrollToTop}(window.system||(window.system=system),ko,jQuery),function(e){e.BaseChatterMapper=function(e){var t=this;this.mapChattersToViewModel=function(e){for(var o=0;o<e.length;o++)t.mapChatterToViewModel(e[o])},this.mapChatterToViewModel=function(t){return t.isAMan=0===t.gender,t.isAWoman=1===t.gender,t.isMe=t.id===e,t}}}(window.system||(window.system={})),function(e){e.ChatterInfoChatterMapper=function(){this.mapChatterToViewModel=function(e){return e.isAMan=0===e.gender,e.isAWoman=1===e.gender,e.isLookingForMan=1===e.genderSearched,e.isLookingForWoman=2===e.genderSearched,e.isLookingForBoth=3===e.genderSearched,e.isLookingForUnknown=!e.isLookingForMan&&!e.isLookingForWoman&&!e.isLookingForBoth,e.isConnected=e.connected===!0,e.isDisconnected=e.connected===!1,e.htmlSubdivision=""!==e.subdivision?"("+e.subdivision+")":"",e.hasProfilePicture=void 0!==e.profilePictureUrl&&""!==e.profilePictureUrl,e}}}(window.system||(window.system={})),function(e,t,o,n){e.VisibleIfMobile=function(){var e=this;this.init=function(){o(window).resize(function(){e.showOrHide()}),e.showOrHide()},e.showOrHide=function(){var t={isVisible:!!e.isMobile()};n.publish("VisibleIfMobile",t)},e.isMobile=function(){return o(window).width()<560}},t.bindingHandlers.visibleIfMobile=new e.VisibleIfMobile}(window.system||(window.system=system),ko,jQuery,PubSub),function(e,t,o,n){e.DarkModeBinder=function(){var t=this;t.cookieService=new e.CookieService(n),t.init=function(e){var n=t.cookieService.getDarkModeStatus();console.log(n),void 0!==n&&"true"===n?t.setDarkMode():t.unsetDarkMode(),o(e).find(".darkmode-bg, .wrapper-darkmode").click(function(){t.toggleDarkMode(),t.cookieService.setDarkModeStatus(o("html").hasClass("dark"))})},t.toggleDarkMode=function(){o("html").toggleClass("dark")},t.setDarkMode=function(){o("html").addClass("dark")},t.unsetDarkMode=function(){o("html").removeClass("dark")}},t.bindingHandlers.darkMode=new e.DarkModeBinder}(window.system||(window.system=system),ko,jQuery,Cookies);