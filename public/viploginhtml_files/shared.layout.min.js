"use strict";function purgeAndLogout(){return userDescriptor=JSON.parse(feedBack.cookieService.getSecurityCookie()).userDescriptor,chatterId=userDescriptor.chatterId,genericPATCH("vips/".concat(encodeURI(chatterId),"/purgeandlogout"))}function genericPATCH(e,t){return $.ajax({headers:{"User-Descriptor":httpHeaderFormatter.format(userDescriptor)},accepts:{json:"application/json"},url:baseUrl.concat(e),data:t!=={}?JSON.stringify(t):t,contentType:"application/json",type:"PATCH"})}function genericPost(e,t){return $.ajax({accepts:{json:"application/json"},url:e,data:t!=={}?JSON.stringify(t):t,contentType:"application/json",type:"POST",success:function(e){return e}})}function genericPost(e,t){return $.ajax({accepts:{json:"application/json"},url:e,data:t!=={}?JSON.stringify(t):t,contentType:"application/json",type:"POST",success:function(e){return e}})}!function(e){e.HttpHeaderFormatter=function(){this.format=function(e){return"chatter-id=".concat(encodeURIComponent(e.chatterId),";application-id=",e.applicationId)}}}(window.system||(window.system={})),function(e,t){e.ChatDataService=function(e,o,n,i){var a=this;a.baseUrl=e||"/api/",a.invoke=function(e,i,s){return t.ajax({headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:a.baseUrl.concat(i),data:s!=={}?JSON.stringify(s):s,contentType:"application/json",type:e})},a.head=function(e,i){return t.ajax({headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:a.baseUrl.concat(e),data:i,contentType:"application/json",type:"HEAD"})},a.get=function(e,i){var s=navigator.appVersion.indexOf("Trident")>-1||navigator.appVersion.indexOf("MSIE")>-1||navigator.appVersion.indexOf("Edge")>1;return s?t.ajax({headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:a.baseUrl.concat(e),data:i,contentType:"application/json",type:"GET",cache:!1}):t.ajax({headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:a.baseUrl.concat(e),data:i,contentType:"application/json",type:"GET"})},a.getWithForwarded=function(e,i){var s=navigator.appVersion.indexOf("Trident")>-1||navigator.appVersion.indexOf("MSIE")>-1||navigator.appVersion.indexOf("Edge")>1;return s?t.ajax({headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:a.baseUrl.concat(e),data:i,contentType:"application/json",type:"GET",cache:!1}):t.ajax({beforeSend:function(e){e.setRequestHeader("X-FORWARDED-FOR",i.forwarded.ip),e.setRequestHeader("X-FORWARDED-PORT",i.forwarded.port)},headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:a.baseUrl.concat(e),data:i.data,contentType:"application/json",type:"GET"})},a.post=function(e,i){return t.ajax({headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:a.baseUrl.concat(e),data:i!=={}?JSON.stringify(i):i,contentType:"application/json",type:"POST"})},a["delete"]=function(e){return t.ajax({headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:a.baseUrl.concat(e),type:"DELETE"})},a.patch=function(e,i){return t.ajax({headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:a.baseUrl.concat(e),data:i!=={}?JSON.stringify(i):i,contentType:"application/json",type:"PATCH"})},a.put=function(e,i){return t.ajax({headers:{"User-Descriptor":n.format(o)},accepts:{json:"application/json"},url:a.baseUrl.concat(e),data:i!=={}?JSON.stringify(i):i,contentType:"application/json",type:"PUT"})}}}(window.system||(window.system={}),jQuery),function(e,t,o){e.timer=void 0,e.show=function(n,i){o("body").hasClass("loading")||(e.timer&&clearTimeout(e.timer),e.timer=t.setTimeout(function(){n=void 0===n?"default":n,n&&o("#spinner .spinner .custom-message#spinner-"+n).removeClass("hidden"),o("body").addClass("loading")},1e3),i||t.setTimeout(e.hide,5e3))},e.hide=function(){clearTimeout(e.timer),o("body").hasClass("loading")&&(o("body").removeClass("loading"),o("#spinner .spinner .custom-message").addClass("hidden"))},o(document).ajaxError(function(t,o,n,i){return e.hide(),!1})}(window.spinner||(window.spinner={}),window,jQuery),window.getFirstOrDefaultNavigatorLanguage=function(){var e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e?(e.indexOf("-")!==-1&&(e=e.split("-")[0]),e.indexOf("_")!==-1&&(e=e.split("_")[0])):e="fr",e},window.getFeedbackMessageResource=function(e){return document.getElementById(e).innerHTML},function(e){e.CookieService=function(e){this.setGuestLoginInfos=function(t){e.remove("guestLoginInfos"),e.set("guestLoginInfos",t)},this.getGuestLoginInfos=function(){return e.getJSON("guestLoginInfos")},this.setVIPLoginInfos=function(t){e.remove("VIPLoginInfos"),e.set("VIPLoginInfos",t)},this.getVIPLoginInfos=function(){return e.getJSON("VIPLoginInfos")},this.getUserDescriptor=function(){var t=JSON.parse(e.get("chat"));return t.userDescriptor},this.getAnalyticsId=function(){return e.get("analytics")},this.getTenantId=function(){return e.get("tenant")},this.setSearchOptions=function(t){e.remove("searchOptions"),e.set("searchOptions",JSON.stringify(t),{expires:new Date(2100,12,31)})},this.getSearchOptions=function(){var t=e.get("searchOptions");return null!=t?JSON.parse(t):t},this.getChatterInfos=function(){return e.getJSON("chatterInfos")},this.setChatterInfos=function(t){return e.remove("chatterInfos"),e.set("chatterInfos",t)},this.getSecurityCookie=function(){return e.get("chat")},this.setActivationIncentiveDisplayedCookie=function(){return e.remove("ActIncentAlreadyDisplayed"),e.set("ActIncentAlreadyDisplayed","True")},this.removeActivationIncentiveAlreadyDisplayedCookie=function(){e.remove("ActIncentAlreadyDisplayed")},this.getActivationIncentiveAlreadyDisplayedCookie=function(){return e.get("ActIncentAlreadyDisplayed")},this.setInfoAlreadyDisplayedCookie=function(){return e.remove("infoAlreadyDisplayed"),e.set("infoAlreadyDisplayed","True")},this.removeInfoAlreadyDisplayedCookie=function(){e.remove("infoAlreadyDisplayed")},this.getInfoAlreadyDisplayedCookie=function(){return e.get("infoAlreadyDisplayed")},this.setActivationNotificationCookie=function(){return e.remove("ActivationNotificationCookie"),e.set("ActivationNotificationCookie","True")},this.removeActivationNotificationCookie=function(){e.remove("ActivationNotificationCookie")},this.getActivationNotificationCookie=function(){return e.get("ActivationNotificationCookie")},this.getAutoNextMessagePreference=function(){return e.get("autoNextMessagePreference")},this.setAutoNextMessagePreference=function(t){return e.remove("autoNextMessagePreference"),e.set("autoNextMessagePreference",t)},this.getGeolocationInformations=function(){var t=e.get("geolocation");return null!=t?JSON.parse(t):t},this.setGeolocationInformations=function(t){return e.remove("geolocation"),e.set("geolocation",t,{expires:new Date(2100,12,31)})},this.getTelecomingSessionId=function(){return e.get("telecomingSessionId")},this.setTelecomingSessionId=function(t){return e.remove("telecomingSessionId"),e.set("telecomingSessionId",t)},this.setGuestLoginOrRegisterInfos=function(t){e.remove("guestLoginOrRegisterInfos"),e.set("guestLoginOrRegisterInfos",JSON.stringify(t))},this.getGuestLoginOrRegisterInfos=function(){var t=e.get("guestLoginOrRegisterInfos");return null!=t?JSON.parse(t):t},this.setFBLoginInfos=function(t){e.remove("FBLogin"),e.set("FBLogin",t)},this.getFBLoginInfos=function(){return e.getJSON("FBLogin")},this.removeFBLoginInfos=function(){e.remove("FBLogin")},this.setGoogleLoginInfos=function(t){e.remove("GoogleLogin"),e.set("GoogleLogin",t)},this.getGoogleLoginInfos=function(){return e.getJSON("GoogleLogin")},this.removeGoogleLoginInfos=function(){e.remove("GoogleLogin")},this.getCMPStatus=function(){return e.get("CMPStatus")},this.setCMPStatus=function(){return e.remove("CMPStatus"),e.set("CMPStatus","1",{expires:1})},this.cleanCMPStatus=function(){return e.set("CMPStatus","0",{expires:1})},this.getDarkModeStatus=function(){return e.get("DarkModeStatus")},this.setDarkModeStatus=function(t){return e.remove("DarkModeStatus"),e.set("DarkModeStatus",t,{expires:new Date(2100,12,31)})},this.removeDarkModeStatus=function(){return e.remove("DarkModeSatus")},this.setCoachForLoveVideoAlreadyDisplayedCookie=function(){return e.remove("coachForLoveVideoAlreadyDisplayed"),e.set("coachForLoveVideoAlreadyDisplayed","True")},this.getCoachForLoveVideoAlreadyDisplayedCookie=function(){return e.get("coachForLoveVideoAlreadyDisplayed")},this.setPhoneNumberShareNotificationAlreadyDisplayed=function(){return e.remove("phoneNumberShareNotificationAlreadyDisplayed"),e.set("phoneNumberShareNotificationAlreadyDisplayed","True")},this.getPhoneNumberShareNotificationAlreadyDisplayed=function(){return e.get("phoneNumberShareNotificationAlreadyDisplayed")}}}(window.system||(window.system={})),function(e){e.MessageType={Info:"info",Success:"success",Warning:"warning",Error:"error"}}(window.system||(window.system={})),function(e){e.Message=function(e,t){this.text=e,this.type=t}}(window.system||(window.system={})),function(e,t,o,n){e.cookieService=new system.CookieService(o),e.activationNotification=function(){var o=e.cookieService.getSecurityCookie(),n=JSON.parse(o).isVip,i=e.cookieService.getActivationNotificationCookie();if(i){var a="";n&&(a='<span class="icon-logo fs-6x hidden-xs"></span><br /><span class="pseudo-given">',a+=t.getFeedbackMessageResource("activationNotification"),a+="</span>"),t.swal({title:"",html:a,allowOutsideClick:!0,closeOnConfirm:!0,confirmButtonClass:"btn-swal bg-guest",buttonsStyling:!1,closeOnCancel:!0}).then(function(){e.cookieService.removeActivationNotificationCookie()},function(t){e.cookieService.removeActivationNotificationCookie()})}},e.welcomeUser=function(){var t,o=e.cookieService.getSecurityCookie(),n=JSON.parse(o).isVip,i=JSON.parse(o).userDescriptor,a=e.cookieService.getInfoAlreadyDisplayedCookie();!JSON.parse(o).isVip&&i.pseudoChanged;if(t=n?void 0!==e.cookieService.getVIPLoginInfos()?e.cookieService.getVIPLoginInfos().name:"":void 0!==e.cookieService.getGuestLoginInfos()?e.cookieService.getGuestLoginInfos().name:"",!a){return}},e.clubWelcomeUser=function(o){var n=e.cookieService.getInfoAlreadyDisplayedCookie();if(void 0===n||!n){var i='<span class="icon-logo fs-6x hidden-xs"></span>Bienvenue au CLUB&nbsp;!',a="Tu as un crédit de<br/>"+o+" messages<br/>pour discuter avec qui tu veux !<b>OPEN BAR&nbsp;!</b>";t.swal({title:i,html:a,allowOutsideClick:!0,closeOnConfirm:!0,confirmButtonClass:"btn-swal bg-guest",buttonsStyling:!1,closeOnCancel:!0,customClass:"club_welcome"}).then(function(){e.cookieService.setInfoAlreadyDisplayedCookie()},function(t){e.cookieService.setInfoAlreadyDisplayedCookie()})}},e.informAboutGeolocation=function(o){var n=e.cookieService.getInfoAlreadyDisplayedCookie();n||t.swal({title:"",html:'<span id="geolocation-warning"><span class="text-center">'+t.getFeedbackMessageResource("tip")+' : </span><br/><span class="text-left">'+t.getFeedbackMessageResource("geolocationTip")+"</span></span>",type:"info",showCancelButton:!1,allowOutsideClick:!1,closeOnCancel:!1,confirmButtonClass:"btn-swal bg-guest",buttonsStyling:!1}).then(function(){e.executeCallbackIfExists(o)},function(e){})},e.encourageToActivateGeolocation=function(o){t.swal({title:"",html:"<span>"+t.getFeedbackMessageResource("geolocationWarning")+"</span>",type:"error",showCancelButton:!0,cancelButtonText:t.getFeedbackMessageResource("cancel"),allowOutsideClick:!1,closeOnCancel:!1,confirmButtonClass:"btn-swal bg-guest",cancelButtonClass:"noThanks",buttonsStyling:!1}).then(function(){e.executeCallbackIfExists(o)},function(e){})},e.showCustomSwal=function(o,n,i,a,s,c,r,l){t.swal({title:o,html:n,type:i,allowOutsideClick:!0,closeOnCancel:!0,confirmButtonClass:s,confirmButtonText:a,buttonsStyling:!1,customClass:c}).then(function(){e.executeCallbackIfExists(r)}).then(function(){e.executeCallbackIfExists(l)})},e.warnAboutAccountDeletion=function(){var e='<div><span class="display-b">'+t.getFeedbackMessageResource("accountDeletionConsequences")+'</span><br/><span class="display-b bold">'+t.getFeedbackMessageResource("accountDeletionConfirmation")+"</span><br/></div>";t.swal({title:"",html:e,type:"error",customClass:"swal-account-deletion",showCancelButton:!0,confirmButtonText:t.getFeedbackMessageResource("no"),cancelButtonText:t.getFeedbackMessageResource("yes"),allowOutsideClick:!1,closeOnCancel:!1,allowEscapeKey:!1,confirmButtonClass:"btn-swal bg-guest",cancelButtonClass:"noThanks",buttonsStyling:!1}).then(function(){},function(){t.spinner.show(),n.ajax({type:"POST",url:"/Chat/DeleteAccount"})})},e.handleError=function(o,i,a){if(405===o.status){n("#IsGops").val("true");var s=t.feedBack.reverseHtmlEntities(o.statusText);return e.GOPS(s)}if(404===o.status&&"Request sender not found"===o.statusText)return void e.triggerLogoutClick();if(null!=i&&i.text.indexOf("Suspended profile")!==-1)return i.text=t.getFeedbackMessageResource("profileDeactivated"),void e.showSweetAlert(i,a);if(500===o.status||502===o.status||503===o.status)return void 0!==i&&null!==i||(i={text:"",type:"error"}),i.text=t.getFeedbackMessageResource("globalError"),e.showSweetAlert(i,function(){});if(null!==i&&void 0!==i&&""!==i.text&&" "!==i.text)if(i.text.indexOf("Too many guests connected")!==-1){i.text=t.getFeedbackMessageResource("limitedAccessRefused");var c=new RegExp(/(\.[^\.]{0,2})(\.[^\.]{0,2})(\.*$)|(\.[^\.]*)(\.*$)/),r=location.hostname.replace(c,"").split(".").pop();"amitie"===r?e.showSweetAlert(i,function(){}):e.showSweetAlert(i,function(){t.location.pathname="/account/register"})}else e.showSweetAlert(i,a)},e.GOPS=function(o){t.swal({title:"",html:o,type:"error",timer:8e3,allowOutsideClick:!1,allowEscapeKey:!1,closeOnConfirm:!1,closeOnCancel:!1,confirmButtonClass:"btn-swal bg-guest",buttonsStyling:!1}).then(function(){e.triggerLogoutClick()})},e.showSweetAlert=function(o,n){var i="";if("object"==typeof o.text)for(var a=0;a<o.text.length;a++)i+=o.text[a],a<o.text.length-1&&(i+="<br/>");else i=o.text;t.swal({title:"",html:i,type:o.type,showCancelButton:!1,allowOutsideClick:!1,closeOnCancel:!1,confirmButtonClass:"btn-swal bg-guest",buttonsStyling:!1}).then(function(){e.executeCallbackIfExists(n)})},e.confirmReportAbuse=function(o,n){t.swal({title:"",html:o.text,type:o.type,showCancelButton:!0,allowOutsideClick:!1,closeOnCancel:!0,confirmButtonText:t.getFeedbackMessageResource("yes"),cancelButtonText:t.getFeedbackMessageResource("no"),confirmButtonClass:"btn-swal bg-guest",cancelButtonClass:"btn-swal bg-guest",buttonsStyling:!1}).then(function(){e.executeCallbackIfExists(n)})},e.blacklistUser=function(e){t.swal({title:"",html:e.text,type:e.type,showCancelButton:!1,allowOutsideClick:!1,closeOnCancel:!0,confirmButtonClass:"btn-swal bg-guest",buttonsStyling:!1})},e.sharePhoneNumberNotification=function(){t.swal({title:"",html:t.getFeedbackMessageResource("phoneNumberShareNotification1"),confirmButtonText:t.getFeedbackMessageResource("phoneNumberShareNotification2"),type:"warning",showCancelButton:!1,allowOutsideClick:!1,closeOnCancel:!0,confirmButtonClass:"btn-swal bg-guest",buttonsStyling:!1})},e.triggerLogoutClick=function(){n("#logout").trigger("click")},e.executeCallbackIfExists=function(e){void 0!==e&&null!==e&&e()},e.encourageToRegister=function(o){void 0!==o&&null!==o||(o={type:"error",text:t.getFeedbackMessageResource("onlyForVIP")}),t.swal({title:"",html:o.text,type:o.type,showCancelButton:!0,confirmButtonText:t.getFeedbackMessageResource("registerLink"),cancelButtonText:t.getFeedbackMessageResource("cancel"),allowOutsideClick:!1,closeOnCancel:!1,confirmButtonClass:"btn-swal bg-guest",cancelButtonClass:"noThanks",buttonsStyling:!1}).then(function(){n("#WantsToRegister").val("true"),t.location.pathname.toLowerCase().indexOf("chat")!=-1?n.when(e.triggerLogoutClick()).then("window.location.pathname = '/account/register'"):t.location.pathname="/account/register"},function(){})},e.showAlbumsMoreInfos=function(e,o){t.swal({title:t.getFeedbackMessageResource(e),html:'<p class="swal-album-infos">'+t.getFeedbackMessageResource(o)+"</p>",customClass:"swal-albums-infos",showCancelButton:!1,confirmButtonClass:"btn-swal bg-guest",buttonsStyling:!1,allowOutsideClick:!0,closeOnConfirm:!0,allowEscapeKey:!0})},e.reverseHtmlEntities=function(e){return e=e.replace(/&#59;/g,";"),e=e.replace(/&amp;/g,"&"),e=e.replace(/&egrave;/g,"è"),e=e.replace(/&eacute;/g,"é"),e=e.replace(/&ecirc;/g,"ê"),e=e.replace(/&agrave;/g,"à"),e=e.replace(/&aacute;/g,"á"),e=e.replace(/&auml;/g,"â"),e=e.replace(/&icirc;/g,"î"),e=e.replace(/n&atilde;/g,"ñ"),e=e.replace(/&ugrave;/g,"ù"),e=e.replace(/&ucirc;/g,"û"),e=e.replace(/&#39;/g,"'")},e.showPremiumPackPromo=function(o,n,i,a){var s="https://tchatche.tlmq.fr/",c=e.cookieService.getSecurityCookie();JSON.parse(c).userDescriptor.chatterId;"boolean"!=typeof o&&(o=!1),"boolean"!=typeof n&&(n=!1);var r=a?Math.floor(4*Math.random()+1):Math.floor(39*Math.random()+1),l=a?"M":"D";t.swal({title:"",html:'<div class="image-wrap"><img src="/Content/Tchatche/Images/CoachForLove/'+l+"_CFL"+r+'.png" alt="Coach For Love" /></div>',type:"",showConfirmButton:!0,showCancelButton:!1,allowOutsideClick:!0,animation:!1,closeOnCancel:!1,buttonsStyling:!1,showCloseButton:!0,allowEscapeKey:!0,customClass:"swal-custom-image",buttonsStyling:!1}).then(function(){if(o&&e.cookieService.setPromoAlreadyDisplayedCookie(),a){switch(r){case 1:case 4:case 7:case 10:case 13:case 16:case 19:case 22:case 25:case 28:case 31:case 34:case 37:t.open("sms:71516?&body=INLOVE");break;case 2:case 5:case 8:case 11:case 14:case 17:case 20:case 23:case 26:case 29:case 32:case 35:case 38:t.open("tel://0893015511");break;default:t.open(s)}t.analytics.trackEvent("CoachForLovePromo","Mobile",r)}else t.open(s),t.analytics.trackEvent("CoachForLovePromo","Desktop",r)},function(t){o&&e.cookieService.setPromoAlreadyDisplayedCookie(),e.executeCallbackIfExists(i)})},e.showMailNotValidFeedBack=function(){t.analytics.trackPageView("/MailNotValid","Account/MailNotValid"),t.swal({title:"",html:t.getFeedbackMessageResource("mailNotValid"),type:"",showConfirmButton:!0,showCancelButton:!1,allowOutsideClick:!1,closeOnCancel:!1,buttonsStyling:!1,showCloseButton:!0,allowEscapeKey:!0,closeOnConfirm:!0,confirmButtonClass:"btn-swal bg-guest"}).then(function(){purgeAndLogout()},function(e){purgeAndLogout()})},e.FeatureReservedForVIP=function(){var e=new t.system.Message(t.getFeedbackMessageResource("featureReservedForVIP"),t.system.MessageType.Error);t.feedBack.encourageToRegister(e)}}(window.feedBack||(window.feedBack={}),window,Cookies,jQuery);var userDescriptor,httpHeaderFormatter=new system.HttpHeaderFormatter,baseUrl="/api/";!function(e,t,o){e.trackPageView=function(e,t){o("event","page_view",{page_path:e,page_title:t})},e.trackEvent=function(e,t,n){o("event",t,{event_category:e,event_label:n})}}(window.analytics||(window.analytics={}),window,gtag),function(e){e.BannerService=function(e){this.getBannerUrl=function(t,o){var n=void 0!==o&&null!==o?o.age:18,i=void 0!==o&&null!==o?o.gender:0;return"/123m?Page="+e+"&Width="+t.width+"&Height="+t.height+"&Age="+n+"&Gender="+parseInt(i+1,10)}}}(window.system||(window.system={})),function(e,t){function o(t,o){var n={width:0,height:0};e.each(o.formats,function(e,o){return n=o,1==o.height&&1==o.width?t.attr("width","200").attr("height","100"):t.attr("width",o.width).attr("height",o.height),!t.visible()}),o.format(n)}t.bindingHandlers.banner={init:function(n,i){var a=t.unwrap(i());n=e(n),e(window).on("beforeunload",function(){n.attr("data",""),n.attr("src","")}),e(window).resize(function(){o(n,a)}),o(n,a)},update:function(){}}}(jQuery,ko),function(e,t,o){e.BannerViewModel=function(e,n,i,a,s){var c=this,r=o();this.formats=e,this.format=t.observable().extend({rateLimit:{timeout:1e3,method:"notifyWhenChangesStop"}}),this.format.subscribe(function(e){e&&(this.bannerUrl(n.getBannerUrl(e,c.getChatterInfos())),r=o())},this),this.bannerUrl=t.observable().extend({notify:"always"}),this.refresh=function(){var e=o(),t=e.diff(r);(void 0!==s?s:2e3)<t&&(c.bannerUrl(n.getBannerUrl(c.format(),c.getChatterInfos())),r=e)},this.getChatterInfos=function(){return a.getChatterInfos()},i.subscribe("CommandSent",c.refresh)}}(window.system||(window.system={}),ko,moment),function(e,t,o,n){t.components.register("banner",{viewModel:{createViewModel:function(t){var i=new e.BannerService(t.page),a=new e.CookieService(n),s=new e.BannerViewModel(t.formats,i,o,a,t.time);return s}},template:{element:"banner-template"},synchronous:!0})}(window.system||(window.system={}),ko,PubSub,Cookies),function(e,t){e.GeolocationDataService=function(t,o,n){var i=this;i.base=e.ChatDataService,i.base(t,o,n),i.sendCoordinates=function(e,t){return i.post("chatters/".concat(encodeURI(o.chatterId),"/localization"),{Latitude:e,Longitude:t})}}}(window.system||(window.system={}),jQuery),function(e,t,o){function n(){var n=this,i=new e.HttpHeaderFormatter;n.cookieService=new e.CookieService(o),n.chatterInfos=n.cookieService.getChatterInfos(),n.chatterIsLoggedIn=void 0!==n.chatterInfos;var a=n.chatterIsLoggedIn?n.cookieService.getUserDescriptor():{chatterId:void 0,applicationId:void 0};n.dataService=new e.GeolocationDataService((void 0),a,i),n.geolocationInformations=n.cookieService.getGeolocationInformations(),n.timeout=5e3,n.geolocationUpdated=!1,n.getPosition=function(){navigator.geolocation&&!n.geolocationUpdated&&navigator.geolocation.getCurrentPosition(n.sendCoordinates,n.throwError)},n.checkGeolocation=function(){return n.geolocationInformations.isGeolocated},n.chatterIsGeolocated=function(){n.geolocationInformations.isGeolocated=!0,n.cookieService.setGeolocationInformations({isGeolocated:n.geolocationInformations.isGeolocated,subdivision:n.geolocationInformations.subdivision}),t.publish("GeolocationStatement",n.geolocationInformations.isGeolocated)},n.chatterIsNotGeolocated=function(){n.geolocationInformations.isGeolocated=!1,n.cookieService.setGeolocationInformations({isGeolocated:n.geolocationInformations.isGeolocated,subdivision:n.geolocationInformations.subdivision}),t.publish("GeolocationStatement",n.geolocationInformations.isGeolocated)},n.sendCoordinates=function(e){"4.9E-325"===e.coords.latitude||"4.9E-325"===e.coords.longitude||"4.9e-325"===e.coords.latitude||"4.9e-325"===e.coords.longitude||"4.9E-324"===e.coords.latitude||"4.9E-324"===e.coords.longitude||"4.9e-324"===e.coords.latitude||"4.9e-324"===e.coords.longitude||"5E-324"===e.coords.latitude||"5E-324"===e.coords.longitude||"5e-324"===e.coords.latitude||"5e-324"===e.coords.longitude||"0"===e.coords.latitude.toString||"0"===e.coords.longitude.toString?(e.coords.latitude=-1,e.coords.longitude=-1,n.throwError()):n.chatterIsLoggedIn&&!n.geolocationUpdated?n.dataService.sendCoordinates(e.coords.latitude,e.coords.longitude).done(function(e){n.coordinatesSuccess()}).fail(function(e){window.feedBack.handleError(e,null)}):(n.coordinatesSuccess(),t.publish("ChatterCoordinates",{latitude:e.coords.latitude,longitude:e.coords.longitude}))},n.coordinatesSuccess=function(){n.geolocationUpdated=!0,n.chatterIsGeolocated()},n.throwError=function(e){n.geolocationUpdated=!0,n.chatterIsNotGeolocated()},n.onSubdivisionUpdate=function(e,t){"undefined"!==n.geolocationInformations.subdivision&&void 0!==n.geolocationInformations.subdivision||(n.geolocationInformations.subdivision=t),t!==n.geolocationInformations.subdivision&&(t=n.geolocationInformations.subdivision),n.cookieService.setGeolocationInformations({isGeolocated:n.geolocationInformations.isGeolocated,subdivision:t})},t.subscribe("SubdivisionUpdate",n.onSubdivisionUpdate),n.updateGeolocationStatement=function(){n.geolocationUpdated||(n.chatterIsNotGeolocated(),n.geolocationUpdated=!0)},n.init=function(){void 0===n.geolocationInformations&&(n.geolocationInformations=n.cookieService.getGeolocationInformations()),window.setTimeout(n.getPosition(),n.geolocationInformations.isGeolocated?0:500),window.setTimeout(n.updateGeolocationStatement,n.timeout)}}window.geolocation=new n}(window.system||(window.system={}),PubSub,Cookies),function(e,t,o){var n=new e.CookieService(o);$(function(){var e=this;e.geolocation=n.getGeolocationInformations(),void 0!==e.geolocation&&null!==e.geolocation||(e.geolocation={isGeolocated:!1,subdivision:"undefined"},n.setGeolocationInformations(e.geolocation)),e.onPromptGeolocation=function(e,t){window.geolocation.init()},t.subscribe("PromptGeolocation",e.onPromptGeolocation)})}(window.system||(window.system={}),PubSub,Cookies),function(e,t){e(function(){function o(){FB.login(function(t){t.authResponse&&FB.api("/me",{fields:"email,gender,name,birthday"},function(t){window.spinner.show(),n.setFBLoginInfos(t);genericPost("/Account/FacebookLogin",{Name:t.name,Email:t.email,Gender:t.gender,Birthday:t.birthday,Latitude:e("#Latitude").val(),Longitude:e("#Longitude").val()}).done(function(e){e.toLowerCase().indexOf("chat")!=-1?window.analytics.trackEvent("Facebook login","Facebook login action","Login"):window.analytics.trackEvent("Facebook login","Facebook login action","Register"),window.spinner.hide(),window.location.href=e})})},{scope:"public_profile,email,user_birthday"})}var n=new system.CookieService(t);window.fbAsyncInit=function(){var e=new RegExp(/(\.[^\.]{0,2})(\.[^\.]{0,2})(\.*$)|(\.[^\.]*)(\.*$)/),t=location.hostname.replace(e,"").split(".").pop(),o="113519268710831";switch(t){case"amitie":o="373188439472165";break;case"babel":o="491508040926555";break;case"cybermen":o="431027240328209";break;case"drague":o="1669902433330724";break;case"tchatche":o="113519268710831";break;case"urbangay":o="678411825652749";break;case"vivachat":case"viva":o="1784298595230574";break;case"trace":case"traceaf":o="1505322289487982";break;case"cheriefm":case"cheriefmaf":o="112747285464890";break;case"nostalgie":case"nostalgieaf":o="186421361373164";break;case"nrj":case"nrjaf":o="132363533491609";break;case"rireetchansons":case"rireetchansonsaf":o="186340898049447";break;default:o="113519268710831"}FB.init({appId:o,xfbml:!0,version:"v2.8"}),FB.AppEvents.logPageView()},function(e,t,o){var n,i=e.getElementsByTagName(t)[0];if(!e.getElementById(o)){n=e.createElement(t),n.id=o;var a=window.getFirstOrDefaultNavigatorLanguage();""===a&&(a="en");var s="en_US";switch(a){case"ar":s=a+"_AR";break;case"en":s=a+"_US";break;case"es":s=a+"_ES";break;case"fr":s=a+"_FR";break;case"it":s=a+"_IT";break;case"de":s=a+"_DE";break;case"nl":s=a+"_NL";break;case"pt":s=a+"_PT";break;default:s="en_US"}n.src="//connect.facebook.com/"+s+"/sdk.js",i.parentNode.insertBefore(n,i)}}(document,"script","facebook-jssdk"),e("#facebooklogin").click(function(){o()})})}(jQuery,Cookies),function(e,t){e(function(){function o(){gapi.auth2.init({client_id:c,cookiepolicy:"single_host_origin",scope:"profile"}).then(function(e){n(document.getElementById("googlelogin"))})}function n(t){var o=gapi.auth2.getAuthInstance();o.attachClickHandler(t,{},function(t){window.spinner.show();var o={},n=t.getBasicProfile();o.name=n.getName(),o.email=n.getEmail();var a=JSON.stringify(o);i.setGoogleLoginInfos(a);genericPost("/Account/GoogleLogin",{Name:n.getName(),Email:n.getEmail(),Latitude:e("#Latitude").val(),Longitude:e("#Longitude").val()}).done(function(e){e.toLowerCase().indexOf("chat")!=-1?window.analytics.trackEvent("Google login","Google login action","Login"):window.analytics.trackEvent("Google login","Google login action","Register"),window.spinner.hide(),window.location.href=e})},function(e){})}var i=new system.CookieService(t),a=new RegExp(/(\.[^\.]{0,2})(\.[^\.]{0,2})(\.*$)|(\.[^\.]*)(\.*$)/),s=location.hostname.replace(a,"").split(".").pop(),c="52973368697-da2hb6cl6e3rbrdue048gdpscsi46hqd.apps.googleusercontent.com";switch(s){case"amitie":c="511862906685-srs6m9786q3235dl60ojrgbnvt9qd3cs.apps.googleusercontent.com";break;case"babel":c="152921496807-bo10u6mr6q6qto8fs1hknupbteg642sb.apps.googleusercontent.com";break;case"cybermen":c="34486358823-d6o476ppolthbs5kvi6lfm92iarpb9gh.apps.googleusercontent.com";break;case"drague":c="795106994001-2k4962t3c620ie89a53a0mv57llcemsh.apps.googleusercontent.com";break;case"tchatche":c="691902191785-7etikvgq81rk16g31j1788hh2lausuut.apps.googleusercontent.com";break;case"urbangay":c="78665757719-nnf8a35tnf03qst57m64b57gvm2oioeu.apps.googleusercontent.com";break;case"vivachat":case"viva":c="210069720832-ve5d4abr00qh3ehvg0k750vl8vk102nm.apps.googleusercontent.com";break;case"trace":case"traceaf":c="52973368697-da2hb6cl6e3rbrdue048gdpscsi46hqd.apps.googleusercontent.com";break;case"chatchatlang":c="882785927728-k6pc3rqjdhpb4fvhjfb0brk1g3pgkuf1.apps.googleusercontent.com";break;case"cheriefm":case"cheriefmaf":c="52973368697-da2hb6cl6e3rbrdue048gdpscsi46hqd.apps.googleusercontent.com";break;case"nostalgie":case"nostalgieaf":c="52973368697-da2hb6cl6e3rbrdue048gdpscsi46hqd.apps.googleusercontent.com";break;case"nrj":case"nrjaf":c="52973368697-da2hb6cl6e3rbrdue048gdpscsi46hqd.apps.googleusercontent.com";break;case"rireetchansons":case"rireetchansonsaf":c="52973368697-da2hb6cl6e3rbrdue048gdpscsi46hqd.apps.googleusercontent.com";break;default:c="52973368697-da2hb6cl6e3rbrdue048gdpscsi46hqd.apps.googleusercontent.com"}gapi.load("auth2",o)})}(jQuery,Cookies),function(e,t){e.cookieService=new system.CookieService(t),e.securityCookie=e.cookieService.getSecurityCookie(),e.userDescriptor=void 0!==e.securityCookie?JSON.parse(e.securityCookie).userDescriptor:void 0,e.getTenant=function(){var t=e.userDescriptor.applicationId.split("-");return t[1]},e.isChatterMajor=function(){return e.userDescriptor.applicationId.indexOf("-ado")===-1},e.isIOS=!1,e.isDesktop=!1,e.promoPremiumPackIsActive=function(){var t=new Date,o=new Date("2021-04-21"),n=new Date("2025-12-31");return t>=o&&t<=n&&"tchatche"===e.getTenant()},e.coachForLoveVideoIsActive=function(){return"tchatche"===e.getTenant()},e.mapAuthorizedInEveryContinentTenant=!1,e.isFromAfrica=!1,e.isFromFrance=!1,e.mapActionIsEnabled=function(){return e.isFromFrance||e.mapAuthorizedInEveryContinentTenant},e.isGuestOnly=!1}(window.configuration||(window.configuration={}),Cookies);